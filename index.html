<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/3128efb216.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">
            <img src="/docs/4.4/assets/brand/bootstrap-solid.svg" width="30" height="30"
                class="d-inline-block align-top" alt="">
            Lets Check the Weather!
        </a>
    </nav>


    <div class="row">
        <div class="col-md-2">
            <h1>Search for a city</h1><br>
            <div class="input-group mb-3" id="cityinput">
                <input type="text" class="form-control" placeholder="New York, NY">
                <div class="input-group-append">
                    <span class="input-group-text" id="searchButton"><i class="fas fa-search"></i></span>
                </div>
            </div>
        </div>
        <div class="card col-md-8">
            <div class="card-body">
                <h1>Today is: <span id="today"></span></h1><br>
                <h2 id="currentCity"></h2><br>
                <p id="currentTemp"></p><br>
                <p id="currentHumidity"></p><br>
                <p id="currentWind"></p><br>
                <p id="currentUV"></p><br>
            </div>

        </div>
        <div class="row">
            <div class="card col-md-2 offest-1">
                <div class="card-body">

                </div>
            </div>
            <div class="card col-md-2">
                <div class="card-body">

                </div>
            </div>
            <div class="card col-md-2">
                <div class="card-body">

                </div>
            </div>
            <div class="card col-md-2">
                <div class="card-body">

                </div>
            </div>
            <div class="card col-md-2">
                <div class="card-body">

                </div>
            </div>
        </div>

</body>
<script>

    //set dates

    $("#today").html(moment().format('MM/D/YYYY'));
    $("#oneDayFrom").html(moment().add(1, 'days').format('MM/D/YYYY'));
    $("#twoDayFrom").html(moment().add(2, 'days').format('MM/D/YYYY'));
    $("#threeDayFrom").html(moment().add(3, 'days').format('MM/D/YYYY'));
    $("#fourDayFrom").html(moment().add(4, 'days').format('MM/D/YYYY'));
    $("#fiveDayFrom").html(moment().add(5, 'days').format('MM/D/YYYY'));

    // error

    // $(document).ajaxError(function(){
    //     alert("city not found!")
    // });

    $(document).on('click', '.fa-search, .query', function (event) {
        $("#currentCity").empty();
        $("#currentUV").empty();
        $("#currentTemp").empty();
        $("#currentHumidity").empty();
        $("#currentWind").empty();



        var userInput = $("cityinput").val();
        var APIKey = "0526fb22d9f551a9e59a54077607177d";
        var queryURL = "https://api.openweathermap.org/data/2.5/weather?q=" + userInput + "&appid=" + APIKey;

        $.ajax({
            method: "GET",
            url: queryURL,
            dataType: 'json'
        }).then(function (response) {
            console.log(response);
        })

    });

</script>

</html>